<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="firstPage.css" />
    

    
    <script
        src="https://ajax.googleapis.com/ajax/libs/jquery/2.2.0/jquery.min.js" >

    </script>
    
    <style>
    </style>

    

    <title> My favorite Video Games</title>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js" 
    integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>
 




</head>

<script>

$(document).ready(function() {


        $("#addbtn").click(function() {                 //Function to add a row
            var name = $('#gameTitle').val();           //This is the gameTitle field the user inputs
            var rate = $('#rating').val();              //This is the Rate field the user inputs
            var row = "<tr><td>"                        //We basically "recreate" the row as we need originally and pass the variables.
                 + name + "</td><td>"
                 + rate + "</td><td>"
                 + '<button class="dltbutton" type="button" class="btn btn-outline-primary">Delete</button>'  + "</td></tr>";
            $('#mainGameTable').append(row);                //Adds the row with the user input values inside of it.
        });


        $("#mainGameTable").on('click', '.dltbutton', function() {              //Delete Function
            $(this).closest('tr').remove();
        });







});



</script>





<body>
    <div class="headMenu">
        <a href="firstPage.html">Home</a>
        <a href="about.html">About</a>

    </div>

    <div class="Header">
        <h1 style="text-align:center">My favorite Video Games</h1>
    </div>

    <div class ="titles">

        <label for="gameTitle"> Game: </label>
        <input type="text" id="gameTitle" placeholder="Game Title"/>

        <label for="rating"> Game Rating: </label>
        <input type="text" id="rating" placeholder="Game rating"/>

        <button id ="addbtn"type="button" class= "btn btn-outline-primary">Add</button> 


    </div>
    

    <table id="mainGameTable" class="table table-bordered">

        <thead id="headGameTable">

            <tr>
                <th scope="col" onclick="sortByName()">Game Title<i id="sortName"></i></th>     
                <th scope="col" onclick="sortByScore()">Rating<i id="sortScore"></i></th>
                <!--Ids are used to add classes through scrips-->
                <th scope="col"> Delete</th>
            </tr>

        </thead>
        <tbdoy id="bodyGameTable">

            <tr>
                <td>League Of Legends</td>

                <td>55</td>

                <td>
                    <button class="dltbutton" type="button" class="btn btn-outline-primary">Delete</button>
                </td>
            </tr>

            <tr>
                <td>Bague Of Legends</td>

                <td>80</td>

                <td>
                    <button class="dltbutton" type="button" class="btn btn-outline-primary">Delete</button>
                </td>
            </tr>

            <tr>
                <td>Keague Of Legends</td>

                <td>25</td>

                <td>
                    <button class="dltbutton" type="button" class="btn btn-outline-primary">Delete</button>
                </td>
            </tr> 


        </tbdoy>
        

    </table>

    <footer>
        <p>Author: Jason Priskomatis</p>
        <p><a href='I.Priskomatis@acg.edu'>Email</a></p>
        <p>Author: George Ouzounis</p>
        <p><a href='G.Ouzounis@acg.edu'>Email</a></p>
    </footer>

   

    <script>
        function sortByName(){
            var rows, name1, name2, table, i, hasSorted, compareValue;
            table = document.getElementById("mainGameTable");
            $("#sortScore").removeClass("sortDes");
            $("#sortName").addClass("sortDes");
            hasSorted = true;
            while(hasSorted){
                hasSorted = false;
                rows = table.rows;

                for(i=1; i <(rows.length-1); i++){
                    name1 = rows[i].getElementsByTagName("td")[0].outerHTML;
                    name2 = rows[i + 1].getElementsByTagName("td")[0].outerHTML;
                    compareValue = name1.localeCompare(name2); 
                    console.log(compareValue);
                    if(compareValue == 1){
                        $(rows[i + 1]).after($(rows[i]));
                        hasSorted=true;
                        break;
                    }

                }

            }



        }

        function sortByScore(){
            var rows, score1, score2, table, i, hasSorted, compareValue;
            table = document.getElementById("mainGameTable");
            $("#sortName").removeClass("sortDes");
            $("#sortScore").addClass("sortDes");
            hasSorted = true;
            while(hasSorted){
                hasSorted = false;
                rows = table.rows;

                for(i=1; i <(rows.length-1); i++){
                    score1 = rows[i].getElementsByTagName("td")[1].outerHTML;
                    score2 = rows[i + 1].getElementsByTagName("td")[1].outerHTML;
                    compareValue = score1.localeCompare(score2, undefined, { numeric: true }); 
                    console.log(compareValue);
                    if(compareValue == -1){
                        $(rows[i + 1]).after($(rows[i]));
                        hasSorted=true;
                        break;
                    }

                }

            }
        }
        

    </script>
    

    
    
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js" integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js" integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF" crossorigin="anonymous"></script>

</body>

</html>